{% extends 'base.html' %}
{% load render_table from django_tables2 %}
{% load crispy_forms_tags %}

{% block title %}
Lisää projekti
{% endblock %}

{% block content %}
<div class="container">
	<div class="row justify-content-center">
		<div class="col-8">
			<h1 class="mt-2">Lisää projekti</h1>
			<hr class="mt-0 mb-4">
			<form method='post'>
				{% csrf_token %}
				<div class="row">
					<div class="col-6">
						{{ form.project_name|as_crispy_field }}
					</div>
					<div class="col-6">
						{{ form.destination_name|as_crispy_field }}
					</div>
				</div>
				<div class="row">
					<div class="col-6">
						{{ form.start_date | as_crispy_field}}
					</div>
					<div class="col-6">
						{{ form.end_date | as_crispy_field }}
					</div>
				</div>
				<div class="row">
					<div class="col-6">
						{{ form.structure_type|as_crispy_field }}
					</div>
					<div class="col-6">
						{{ form.building_material|as_crispy_field }}
					</div>
					<div class="col-6">
						{{ form.service|as_crispy_field }}
					</div>
					<div class="col-6">
						{{ form.construction_operation|as_crispy_field }}
					</div>
				</div>
				<div class="row">
					<div class="col-6">
						{{ form.specific_project_type|as_crispy_field }}
					</div>
					<div class="col-6">
						{{ form.project_manager|as_crispy_field }}
					</div>
				</div>
				{{ form.project_description|as_crispy_field }}
				<div class="row">
					<div class="col-6">
						{{ form.documentation_path|as_crispy_field }}
					</div>
				</div>
				<button type="submit" class="btn btn-primary">Lisää</button>
			</form>
		</div>
	</div>
</div>
<br>
{% if data %}
<table class="table table-bordered">
	<thead class="thead-dark">
		<tr>
			<th scope="col">Projektin ID</th>
			<th scope="col">Projektin nimi</th>
			<th scope="col">Kohteen nimi</th>
			<th scope="col">Aloituspäivämäärä</th>
			<th scope="col">Lopetuspäivämäärä</th>
			<th scope="col">Rakennustyyppi</th>
			<th scope="col">Rakennusmateriaali</th>
			<th scope="col">Palvelu</th>
			<th scope="col">Rakennustoimenpide</th>
			<th scope="col">Osaamisalue</th>
			<th scope="col">Projektin kuvaus</th>
			<th scope="col">Polku tiedostojen sijaintiin</th>
			<th scope="col">Projektin vetäjä</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			{% for value in data %}
			<td>
				{% if value %}
				{{value}}
				{% else %}
				—
				{% endif %}
			</td>
			{% endfor %}
		</tr>
	</tbody>
</table>
{% endif %}

{% endblock %}